<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CalDAV - Persistence Services | openHAB</title>
    <meta name="description" content="This binding can be used to connect through the CalDAV Interface to calendars.">
    <link rel="stylesheet" href="/v2.3/fonts/fonts.css">
  <link rel="icon" href="/v2.3/favicon.ico">
  <link rel="shortcut icon" href="/v2.3/favicon.ico">
  <link rel="apple-touch-icon" href="/v2.3/apple-icon.png">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.openhab.org/og-image.png">
    <meta property="og:title" content="CalDAV - Persistence Services"><meta property="og:description" content="This binding can be used to connect through the CalDAV Interface to calendars.">
    <link rel="preload" href="/v2.3/assets/css/0.styles.4f47063b.css" as="style"><link rel="preload" href="/v2.3/assets/js/app.81b04d3e.js" as="script"><link rel="preload" href="/v2.3/assets/js/332.27bec98b.js" as="script"><link rel="preload" href="/v2.3/assets/js/6.c6948670.js" as="script"><link rel="preload" href="/v2.3/assets/js/7.a5529298.js" as="script">
    <link rel="stylesheet" href="/v2.3/assets/css/0.styles.4f47063b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v2.3/" class="home-link router-link-active"><img src="/v2.3/openhab-logo.png" alt="openHAB" class="logo"> <span class="site-name can-hide">openHAB</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v2.3/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/v2.3/download/" class="nav-link">Download</a></div><div class="nav-item"><a href="/v2.3/docs/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/v2.3/addons/" class="nav-link router-link-active">Add-ons</a></div><div class="nav-item"><a href="/v2.3/community/" class="nav-link">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.3/about/who-we-are.html" class="nav-link">Who We Are</a></li><li class="dropdown-subitem"><a href="/v2.3/about/contributing.html" class="nav-link">Contribute</a></li><li class="dropdown-subitem"><a href="/v2.3/about/events.html" class="nav-link">Events</a></li></ul></li><li class="dropdown-item"><h4>Support openHAB</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://openhabfoundation.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Foundation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/v2.3/about/donate.html" class="nav-link">Donate</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.3/about/showcase.html" class="nav-link">Showcase/How-tos</a></li><li class="dropdown-subitem"><a href="/v2.3/privacy.html" class="nav-link">Privacy Policy</a></li><li class="dropdown-subitem"><a href="https://www.myopenhab.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  myopenHAB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/openhab" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v2.3/blog/" class="nav-link">Blog</a></div><div class="nav-item"><a href="/v2.3/download/" class="nav-link">Download</a></div><div class="nav-item"><a href="/v2.3/docs/" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/v2.3/addons/" class="nav-link router-link-active">Add-ons</a></div><div class="nav-item"><a href="/v2.3/community/" class="nav-link">Community</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Get Involved</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.3/about/who-we-are.html" class="nav-link">Who We Are</a></li><li class="dropdown-subitem"><a href="/v2.3/about/contributing.html" class="nav-link">Contribute</a></li><li class="dropdown-subitem"><a href="/v2.3/about/events.html" class="nav-link">Events</a></li></ul></li><li class="dropdown-item"><h4>Support openHAB</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://openhabfoundation.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Foundation
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="/v2.3/about/donate.html" class="nav-link">Donate</a></li></ul></li><li class="dropdown-item"><h4>Resources</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/v2.3/about/showcase.html" class="nav-link">Showcase/How-tos</a></li><li class="dropdown-subitem"><a href="/v2.3/privacy.html" class="nav-link">Privacy Policy</a></li><li class="dropdown-subitem"><a href="https://www.myopenhab.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  myopenHAB
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/openhab" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Bindings</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>System Integrations</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Actions</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Data Persistence</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/v2.3/addons/persistence/dynamodb/" class="sidebar-link">Amazon DynamoDB</a></li><li><a href="/v2.3/addons/persistence/caldav/" class="active sidebar-link">CalDAV</a></li><li><a href="/v2.3/addons/persistence/db4o/" class="sidebar-link">db4o</a></li><li><a href="/v2.3/addons/persistence/exec/" class="sidebar-link">Exec</a></li><li><a href="/v2.3/addons/persistence/influxdb/" class="sidebar-link">InfluxDB (0.9 and newer)</a></li><li><a href="/v2.3/addons/persistence/influxdb08/" class="sidebar-link">InfluxDB (up to 0.8.x)</a></li><li><a href="/v2.3/addons/persistence/jpa/" class="sidebar-link">Java Persistence API (JPA)</a></li><li><a href="/v2.3/addons/persistence/jdbc/" class="sidebar-link">JDBC</a></li><li><a href="/v2.3/addons/persistence/mapdb/" class="sidebar-link">mapdb</a></li><li><a href="/v2.3/addons/persistence/mongodb/" class="sidebar-link">MongoDB</a></li><li><a href="/v2.3/addons/persistence/mqtt/" class="sidebar-link">MQTT</a></li><li><a href="/v2.3/addons/persistence/mysql/" class="sidebar-link">MySQL</a></li><li><a href="/v2.3/addons/persistence/rrd4j/" class="sidebar-link">rrd4j</a></li><li><a href="/v2.3/addons/persistence/sense/" class="sidebar-link">Sen.Se</a></li><li><a href="/v2.3/addons/persistence/sitewhere/" class="sidebar-link">SiteWhere</a></li><li><a href="/v2.3/addons/persistence/cosm/" class="sidebar-link">Xively (formerly Cosm)</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Data Transformation</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Voice</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="caldav-persistence"><a href="#caldav-persistence" aria-hidden="true" class="header-anchor">#</a> CalDAV Persistence</h1> <p>This binding can be used to connect through the CalDAV Interface to calendars.
First of all you need to add the org.openhab.io.caldav-version.jar to the addons folder.</p> <p><strong>Newest</strong>
Newest Version can be downloaded from the build-agent</p> <p>services/caldavio.cfg</p> <ul><li><code>caldavio:&lt;calendar-id&gt;:url=</code></li> <li><code>caldavio:&lt;calendar-id&gt;:username=</code></li> <li><code>caldavio:&lt;calendar-id&gt;:password=</code></li> <li><code>caldavio:&lt;calendar-id&gt;:reloadInterval=&lt;minutes&gt;</code></li> <li><code>caldavio:&lt;calendar-id&gt;:preloadTime=&lt;minutes&gt;</code></li> <li><code>caldavio:&lt;calendar-id&gt;:historicLoadTime=&lt;minutes&gt;</code></li> <li><code>caldavio:&lt;calendar-id&gt;:disableCertificateVerification=&lt;true|false&gt;</code></li> <li><code>caldavio:&lt;calendar-id&gt;:charset=&lt;well formed charset name&gt;</code></li> <li><code>caldavio:timeZone=&lt;Timezone&gt;</code></li></ul> <p><strong>Restrictions</strong></p> <ul><li>The calendar-id must be just upper- and lowercase characters. (e. g. private or work, something like 1 or private-home is not allowed)</li> <li>disableCertificateVerification can just be set to true (default is false) if ssl is used.</li> <li>timeZone must just be used if the local timezone of the pc is not the correct one. E. g. if you are living in Berlin and your calendar timezone is Berlin and your local pc timezone is Berlin you must not define this setting</li> <li>'' for item configurations are optional (eventNr:1 and eventNr:'1' is the same). I prefer to use ''</li></ul> <h3 id="note-for-openhab-2"><a href="#note-for-openhab-2" aria-hidden="true" class="header-anchor">#</a> Note for openHAB 2</h3> <p>The CalDAV binding is compatible with openHAB 2 just like any other openHAB 1.x binding. There is currently just one bug in the way the configuration file is parsed. Create the configuration file <code>caldavio.cfg</code> with the additional prefix <code>caldavio:</code>. Do the same for <code>caldavCommand.cfg</code> and <code>caldavCommandPersonal.cfg</code>.
For more details see the <a href="https://github.com/openhab/openhab/issues/4074#issuecomment-202737544" target="_blank" rel="noopener noreferrer">discussion here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <hr> <h1 id="caldav-command"><a href="#caldav-command" aria-hidden="true" class="header-anchor">#</a> CalDAV Command</h1> <p>Binding file: org.openhab.binding.caldav-command-version.jar</p> <p>Used to execute commands through an event, triggered at the start or the end of an event.
The event summary is free selectable. The event description must fullfill special syntax.
Syntax is <code>&lt;BEGIN|END&gt;:&lt;Item-Name&gt;:&lt;Command&gt;</code>.
Each item trigger must be a single line without linebreaks. Every line which starts with &quot;BEGIN&quot; will be executed at the begin of the event. Each line with an &quot;END&quot; will be executed at the end of the event. You can define multiple lines, which must not be ordered. For example:
<pre>BEGIN:Heater_Livingroom:22
BEGIN:Heater_Corridor:22
END:Heater_Livingroom:16
END:Heater_Corridor:16
END:Notification_Dummy:Heizung heruntergefahren</pre></p> <p>Additionaly you can define an item to listen to upcoming changes of an item (which will be triggered through an event). Two types are available the command which will be set and the trigger time.
Syntax is <code>caldavCommand=&quot;itemName:&lt;Item-Name to listen to&gt; type:&lt;VALUE|DATE&gt;&quot;</code>
Furthermore a switch can be defined to disable the automatic execution (through calendar) of an item.
Syntax is <code>caldavCommand=&quot;itemName:&lt;Item-Name to listen to&gt; type:&lt;DISABLE&gt;&quot;</code></p> <p>openhab.cfg
<code>caldavCommand:readCalendars=&lt;calendar-id&gt;</code> (multiple calendars can be seperated by commas)</p> <h2 id="description-of-type"><a href="#description-of-type" aria-hidden="true" class="header-anchor">#</a> Description of type</h2> <ul><li>VALUE: the value which will send to the command (can be of any type, depends on command in event and accepted commands of item)</li> <li>DATE: the time on which the event occurs (item type: DateTime)</li> <li>DISABLE: can turn off the automatic execution of the given item (item type: Switch)</li></ul> <h2 id="default-item"><a href="#default-item" aria-hidden="true" class="header-anchor">#</a> Default item</h2> <p>Since 1.9.0, the CalDAV Command binding also supports a default item which may optionally be added to openhab.cfg:
<pre>caldavCommand:defaultItemOnBegin=&lt;item&gt;</pre>
If the command calendar contains items whose description does not follow the <code>BEGIN/END:&lt;item&gt;:&lt;value&gt;</code> pattern AND a default item is specified, then the respective lines are interpreted as <code>BEGIN:&lt;defaultItemOnBegin&gt;:&lt;line&gt;</code></p> <p>This is really nice to use in combination with a rule such as used for <a href="https://github.com/openhab/openhab/wiki/Controlling-openHAB-with-your-voice" target="_blank" rel="noopener noreferrer">voice control<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - set the default item to: <code>caldavCommand:defaultItemOnBegin=VoiceCommand</code></p> <p>Then you can use the very same logic of your voice commands also in your calendar events (which should also improve the <a href="https://en.wikipedia.org/wiki/Wife_acceptance_factor" target="_blank" rel="noopener noreferrer">WAF<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> üòâ).
Depending on your rule implementation, it is possible to use event entries like these:</p> <ul><li>&quot;Swtich on light in kitchen&quot;</li> <li>&quot;Switch off radio&quot;</li> <li>&quot;Close roller shutter on first floor&quot; etc.</li></ul> <hr> <h1 id="caldav-personal"><a href="#caldav-personal" aria-hidden="true" class="header-anchor">#</a> CalDAV Personal</h1> <p>Binding file: org.openhab.binding.caldav-personal-version.jar</p> <ul><li>Used to detect presence through calendar events.</li> <li>Used to show upcoming/active events in openhab.</li></ul> <h3 id="openhab-cfg"><a href="#openhab-cfg" aria-hidden="true" class="header-anchor">#</a> openhab.cfg</h3> <ul><li><code>caldavPersonal:usedCalendars=&lt;calendar-id&gt;</code> (multiple calendars can be seperated by commas)</li> <li><code>caldavPersonal:homeIdentifiers=&lt;values seperated by commans&gt;</code> (if one of these identifiers can be found inside the place of the event, this event will not be used for presence)</li></ul> <h3 id="items"><a href="#items" aria-hidden="true" class="header-anchor">#</a> items</h3> <ul><li><code>caldavPersonal=&quot;calendar:'&lt;calendar-ids, comma separated&gt;' type:'&lt;UPCOMING|ACTIVE|EVENT&gt;' eventNr:'&lt;event-nr, first one is 1&gt;' value:'&lt;NAME|DESCRIPTION|PLACE|START|END|TIME&gt;&quot;'</code></li> <li><code>caldavPersonal=&quot;calendar:'&lt;calendar-ids&gt;' type:'PRESENCE'&quot; (type must be Switch)</code></li></ul> <h2 id="filtering"><a href="#filtering" aria-hidden="true" class="header-anchor">#</a> filtering</h2> <p>You've got the option to show just specific events.</p> <ul><li><code>filter-name:'\&lt;regular expression\&gt;'</code></li> <li><code>filter-category:'&lt;categories, comma separated&gt;'</code>  (your caldav event must contain at least ALL the categories you specify here)</li> <li><code>filter-category-any:'&lt;categories, comma separated&gt;'</code> (your caldav event must at least contain one of the categories you specify here)</li></ul> <h3 id="example-for-filtering"><a href="#example-for-filtering" aria-hidden="true" class="header-anchor">#</a> Example for filtering</h3> <ul><li>just showing upcoming free days
<code>caldavPersonal=&quot;calendar:'robert,common' type:'EVENT' eventNr:'1' value:'START' filter-name:'Gleittag|Urlaub|Frei'&quot;</code></li> <li>just showing events for the next garbage pick-up
<code>caldavPersonal=&quot;calendar:'common' type:'EVENT' eventNr:'1' value:'START' filter-category:'M√ºllabholung'&quot;</code></li> <li>item config showing the next event in which we are sending a heat event to the bathroom :<br> <code>DateTime bathroom_NextEventDate &quot;bathriil next evt. [%1$tT, %1$td.%1$tm.%1$tY]&quot; &lt;calendar&gt; { caldavPersonal=&quot;calendar:chauffagecmd type:UPCOMING eventNr:1 value:'START' filter-category-any:'bathroom,wholefloor'&quot;}</code><br>
==&gt; if you have one event at 8pm with 1 category &quot;bathroom&quot; (setting heater on), and another event at 9pm with category &quot;wholefloor&quot; (setting heaterS on), then this item will match both events.</li></ul> <h2 id="description-of-type-2"><a href="#description-of-type-2" aria-hidden="true" class="header-anchor">#</a> Description of type</h2> <ul><li>UPCOMING: the next upcoming events, not the active ones</li> <li>ACTIVE: events which are currently on (internally used for presence detection)</li> <li>EVENT: all events, active as well as upcoming</li></ul> <h2 id="description-of-value"><a href="#description-of-value" aria-hidden="true" class="header-anchor">#</a> Description of value</h2> <ul><li>NAME: Name of the event (itemtype: String)</li> <li>DESCRIPTION: Event content (itemtype: String)</li> <li>PLACE: Place of event (itemtype: String)</li> <li>START: start time (itemtype: DateTime)</li> <li>END: end time (itemtype: DateTime)</li> <li>TIME: start/end time (itemtype: String)</li> <li>NAMEANDTIME: name and start- to end time (itemtype:String)</li></ul> <h1 id="logging"><a href="#logging" aria-hidden="true" class="header-anchor">#</a> Logging</h1> <ul><li><code>&lt;logger name=&quot;org.openhab.binding.caldav_personal&quot; level=&quot;TRACE&quot;/&gt;</code></li> <li><code>&lt;logger name=&quot;org.openhab.binding.caldav_command&quot; level=&quot;TRACE&quot;/&gt;</code></li> <li><code>&lt;logger name=&quot;org.openhab.io.caldav&quot; level=&quot;TRACE&quot;/&gt;</code></li></ul> <h1 id="tested-caldav-servers-with-examples"><a href="#tested-caldav-servers-with-examples" aria-hidden="true" class="header-anchor">#</a> Tested calDAV Servers with examples</h1> <p>As far as i know are these</p> <h2 id="owncloud-my-reference-implementation"><a href="#owncloud-my-reference-implementation" aria-hidden="true" class="header-anchor">#</a> ownCloud (my reference implementation)</h2> <pre><code>caldavio:openhab_tasks:url=http://server.de/owncloud/remote.php/caldav/calendars/openHAB/tasks
caldavio:openhab_tasks:username=username
caldavio:openhab_tasks:password=password
caldavio:openhab_tasks:reloadInterval=10
caldavio:openhab_tasks:preloadTime=20000
</code></pre> <h2 id="baikal"><a href="#baikal" aria-hidden="true" class="header-anchor">#</a> baikal</h2> <pre><code>caldavio:kalendername:url=https://server_ip/baikal/cal.php/calendars/username/kalender_id  
caldavio:kalendername:username=username  
caldavio:kalendername:password=password  
caldavio:kalendername:reloadInterval=10  
caldavio:kalendername:preloadTime=20000
</code></pre> <h2 id="google-performance-issue-because-the-timestamp-of-files-is-not-correct"><a href="#google-performance-issue-because-the-timestamp-of-files-is-not-correct" aria-hidden="true" class="header-anchor">#</a> google (performance issue, because the timestamp of files is not correct)</h2> <pre><code>caldavio:openhab_tasks:url=https://www.google.com/calendar/dav/email@gmail.com/events
caldavio:openhab_tasks:username=email@gmail.com
caldavio:openhab_tasks:password=password
caldavio:openhab_tasks:reloadInterval=10
caldavio:openhab_tasks:preloadTime=20000
</code></pre> <h2 id="zarafa"><a href="#zarafa" aria-hidden="true" class="header-anchor">#</a> (zarafa?)</h2> <h2 id="locate-url"><a href="#locate-url" aria-hidden="true" class="header-anchor">#</a> Locate URL</h2> <p>This site may help to find the Calendar URL (i.e. Google Shared Calendars):
<a href="http://www.ict4g.net/adolfo/notes/2015/07/04/determingurlofcaldav.html" target="_blank" rel="noopener noreferrer">http://www.ict4g.net/adolfo/notes/2015/07/04/determingurlofcaldav.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="google-2-factor-authentication"><a href="#google-2-factor-authentication" aria-hidden="true" class="header-anchor">#</a> Google 2-factor authentication</h2> <p>If 2-factor authentication has been enabled, create an application password using <a href="https://support.google.com/accounts/answer/185833?hl=en" target="_blank" rel="noopener noreferrer">https://support.google.com/accounts/answer/185833?hl=en<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Use this password instead of your account password.</p> <h1 id="persistence"><a href="#persistence" aria-hidden="true" class="header-anchor">#</a> Persistence</h1> <pre><code>caldav-persistence:calendarId=history
caldav-persistence:duration=10
caldav-persistence:singleEvents=false
</code></pre> <p>Saves the events to the calendar named history with a length of 10 minutes</p> <h1 id="presence-simulation"><a href="#presence-simulation" aria-hidden="true" class="header-anchor">#</a> Presence Simulation</h1> <p>You can simulate presence with this binding.
To do this you have to</p> <ul><li>enable the caldav-command binding</li> <li>enbale the caldav-persistence binding</li> <li>configure the Items you need for simulation for caldav persistence</li> <li>configure the caldav persistence to singleEvents=true and an offset you want. One week or two make sense.</li> <li>keep openHAB running for a week or more and the persistent events will occur again in the future regarding the offset you set up</li></ul> <h1 id="known-problems-or-limitations"><a href="#known-problems-or-limitations" aria-hidden="true" class="header-anchor">#</a> Known Problems (or limitations)</h1> <ul><li>If you are using multiple calendars you have to set the thread count for quartz to this calendar amount or higher otherwise some calendars will not be loaded.</li> <li>You have to set the preloadInterval to a higher or equal value as the recurring events in the calendar exists.</li></ul> <h1 id="example-configuration"><a href="#example-configuration" aria-hidden="true" class="header-anchor">#</a> Example configuration</h1> <p>There are three calendars defined. One of them is used just for executing commands in openhab (Command-kalender). The others are used to show the upcoming events (M√ºllkalender, Dienstlicher/privater Kalender).
In every case, the binding org.openhab.io.caldav-&lt;version&gt;.jar is needed. For executing commands the additional binding org.openhab.binding.caldav-command-&lt;version&gt;.jar is needed. For upcoming events or presence simulation the binding org.openhab.binding.caldav-personal-&lt;version&gt;.jar needs to be included.</p> <p>openhab.cfg</p> <pre><code>################################ CalDav Binding #######################################
#
#caldavio:&lt;calendar-id&gt;:url=
#caldavio:&lt;calendar-id&gt;:username=
#caldavio:&lt;calendar-id&gt;:password=
#caldavio:&lt;calendar-id&gt;:reloadInterval=&lt;minutes&gt;
#caldavio:&lt;calendar-id&gt;:preloadTime=&lt;minutes&gt;
#caldavio:timeZone=&lt;e. g. Europe/Berlin&gt;

# Dienstlicher/privater Kalender
caldavio:dienstlich:url=http://192.168.2.5/owncloud/remote.php/caldav/calendars/user/pers%C3%B6nlich
caldavio:dienstlich:username=user
caldavio:dienstlich:password=password
caldavio:dienstlich:reloadInterval=60
caldavio:dienstlich:preloadTime=2880
caldavio:timeZone=Europe/Berlin

# M√ºllkalender
caldavio:muell:url=http://192.168.2.5/owncloud/remote.php/caldav/calendars/user/m%C3%BCll
caldavio:muell:username=user
caldavio:muell:password=password
caldavio:muell:reloadInterval=1440
caldavio:muell:preloadTime=2880
caldavio:timeZone=Europe/Berlin

# Command-kalender``
caldavio:command:url=http://192.168.2.5/owncloud/remote.php/caldav/calendars/user/command
caldavio:command:username=user
caldavio:command:password=password
caldavio:command:reloadInterval=10
caldavio:command:preloadTime=1440
caldavio:timeZone=Europe/Berlin

# Additionally needed binding: org.openhab.binding.caldav-command-&amp;lt;version&amp;gt;.jar
# used to execute commands by a triggered event
# multiple calendars (calerdar-id) can be seperated by commas
#caldavCommand:readCalendars=&lt;calendar-id&gt;
caldavCommand:readCalendars=command

# Additionally needed binding: org.openhab.binding.caldav-personal-&amp;lt;version&amp;gt;.jar
# used to record and simulate presence and to show upcoming/active events
# multiple calendars (calerdar-id) can be seperated by commas
#caldavPersonal:usedCalendars=&lt;calendar-id&gt;
caldavPersonal:usedCalendars=dienstlich,muell

# If one of these identifiers can be found inside the place of the event, 
# this event will not be used for presence
#caldavPersonal:homeIdentifiers=&lt;values seperated by commas&gt;
</code></pre> <p>The items-File:</p> <pre><code>String OfficeCalName0	&quot;Termin jetzt [%s]&quot;		&lt;calendar&gt;	{ caldavPersonal=&quot;calendar:dienstlich type:ACTIVE eventNr:1 value:NAME&quot; } //eventNr for concurrent events
DateTime OfficeCalTime0	&quot;Beginn [%1$tT, %1$td.%1$tm.%1$tY]&quot;			&lt;calendar&gt;	{ caldavPersonal=&quot;calendar:dienstlich type:ACTIVE eventNr:1 value:START&quot; } //eventNr for concurrent events
String OfficeCalName1	&quot;n√§chster Termin [%s]&quot;	&lt;calendar&gt;	{ caldavPersonal=&quot;calendar:dienstlich type:UPCOMING eventNr:1 value:NAME&quot; }
DateTime OfficeCalTime1	&quot;Beginn [%1$tT, %1$td.%1$tm.%1$tY]&quot;			&lt;calendar&gt;	{ caldavPersonal=&quot;calendar:dienstlich type:UPCOMING eventNr:1 value:START&quot; }
String OfficeCalName2	&quot;√ºbern√§chster Termin [%s]&quot; &lt;calendar&gt; { caldavPersonal=&quot;calendar:dienstlich type:UPCOMING eventNr:2 value:NAME&quot; }
DateTime OfficeCalTime2	&quot;Beginn [%1$tT, %1$td.%1$tm.%1$tY]&quot; 			&lt;calendar&gt; { caldavPersonal=&quot;calendar:dienstlich type:UPCOMING eventNr:2 value:START&quot; }
</code></pre> <div class="page-versions"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Version: 2.3</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><a href="https://www.openhab.org/addons/persistence/caldav/">latest</a></li><li class="dropdown-item"><a class="current">2.3</a></li></ul></div></div> <div class="editLink"><em>Caught a mistake or want to contribute to the documentation? <a target="_blank" href="https://github.com/openhab/openhab1-addons/edit/master/bundles/persistence/org.openhab.persistence.caldav/README.md">Edit this page on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></em> <!----></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ‚Üê
        <a href="/v2.3/addons/persistence/dynamodb/" class="prev">
          Amazon DynamoDB
        </a></span> <span class="next"><a href="/v2.3/addons/persistence/db4o/">
          db4o
        </a>
        ‚Üí
      </span></p></div> <footer><div class="social-icons"><a href="https://twitter.com/openhab" target="_blank"><svg class="social-icon twitter"><path d="M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path></svg></a> <a href="https://github.com/openhab" target="_blank"><svg class="social-icon github"><path d="M10.369 24.837c0 0.125-0.144 0.225-0.325 0.225-0.206 0.019-0.35-0.081-0.35-0.225 0-0.125 0.144-0.225 0.325-0.225 0.188-0.019 0.35 0.081 0.35 0.225zM8.425 24.556c-0.044 0.125 0.081 0.269 0.269 0.306 0.162 0.063 0.35 0 0.387-0.125s-0.081-0.269-0.269-0.325c-0.162-0.044-0.344 0.019-0.387 0.144zM11.188 24.45c-0.181 0.044-0.306 0.163-0.287 0.306 0.019 0.125 0.181 0.206 0.369 0.163 0.181-0.044 0.306-0.163 0.287-0.288-0.019-0.119-0.188-0.2-0.369-0.181zM15.3 0.5c-8.669 0-15.3 6.581-15.3 15.25 0 6.931 4.362 12.863 10.594 14.95 0.8 0.144 1.081-0.35 1.081-0.756 0-0.387-0.019-2.525-0.019-3.837 0 0-4.375 0.938-5.294-1.863 0 0-0.713-1.819-1.737-2.288 0 0-1.431-0.981 0.1-0.962 0 0 1.556 0.125 2.412 1.613 1.369 2.413 3.662 1.719 4.556 1.306 0.144-1 0.55-1.694 1-2.106-3.494-0.387-7.019-0.894-7.019-6.906 0-1.719 0.475-2.581 1.475-3.681-0.162-0.406-0.694-2.081 0.162-4.244 1.306-0.406 4.313 1.688 4.313 1.688 1.25-0.35 2.594-0.531 3.925-0.531s2.675 0.181 3.925 0.531c0 0 3.006-2.1 4.313-1.688 0.856 2.169 0.325 3.838 0.163 4.244 1 1.106 1.613 1.969 1.613 3.681 0 6.031-3.681 6.512-7.175 6.906 0.575 0.494 1.063 1.431 1.063 2.9 0 2.106-0.019 4.712-0.019 5.225 0 0.406 0.288 0.9 1.081 0.756 6.25-2.075 10.488-8.006 10.488-14.938 0-8.669-7.031-15.25-15.7-15.25zM6.075 22.056c-0.081 0.063-0.063 0.206 0.044 0.325 0.1 0.1 0.244 0.144 0.325 0.063 0.081-0.063 0.063-0.206-0.044-0.325-0.1-0.1-0.244-0.144-0.325-0.063zM5.4 21.55c-0.044 0.081 0.019 0.181 0.144 0.244 0.1 0.063 0.225 0.044 0.269-0.044 0.044-0.081-0.019-0.181-0.144-0.244-0.125-0.038-0.225-0.019-0.269 0.044zM7.425 23.775c-0.1 0.081-0.063 0.269 0.081 0.387 0.144 0.144 0.325 0.163 0.406 0.063 0.081-0.081 0.044-0.269-0.081-0.387-0.138-0.144-0.325-0.163-0.406-0.063zM6.713 22.856c-0.1 0.063-0.1 0.225 0 0.369s0.269 0.206 0.35 0.144c0.1-0.081 0.1-0.244 0-0.387-0.088-0.144-0.25-0.206-0.35-0.125z"></path></svg></a> <a href="https://www.youtube.com/channel/UC7OK88DW0La_BJlcXZg8ydQ" target="_blank"><svg class="social-icon youtube"><path d="M31.681 9.6c0 0-0.313-2.206-1.275-3.175-1.219-1.275-2.581-1.281-3.206-1.356-4.475-0.325-11.194-0.325-11.194-0.325h-0.012c0 0-6.719 0-11.194 0.325-0.625 0.075-1.987 0.081-3.206 1.356-0.963 0.969-1.269 3.175-1.269 3.175s-0.319 2.588-0.319 5.181v2.425c0 2.587 0.319 5.181 0.319 5.181s0.313 2.206 1.269 3.175c1.219 1.275 2.819 1.231 3.531 1.369 2.563 0.244 10.881 0.319 10.881 0.319s6.725-0.012 11.2-0.331c0.625-0.075 1.988-0.081 3.206-1.356 0.962-0.969 1.275-3.175 1.275-3.175s0.319-2.587 0.319-5.181v-2.425c-0.006-2.588-0.325-5.181-0.325-5.181zM12.694 20.15v-8.994l8.644 4.513-8.644 4.481z"></path></svg></a></div> <div class="legal"><span class="copyright">Copyright ¬© 2018 by the openHAB Community and the openHAB Foundation e.V.</span> <br> <span class="legal-links"><a href="/v2.3/privacy.html">Privacy policy</a> |
    <a href="/v2.3/imprint.html">Imprint</a></span></div> <img src="/openhab-logo-square.png" class="footer-logo"></footer></div> <!----></div></div>
    <script src="/v2.3/assets/js/332.27bec98b.js" defer></script><script src="/v2.3/assets/js/6.c6948670.js" defer></script><script src="/v2.3/assets/js/7.a5529298.js" defer></script><script src="/v2.3/assets/js/app.81b04d3e.js" defer></script>
  </body>
</html>
