(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{359:function(t,e,s){t.exports=s.p+"assets/img/rules_ng_addons.52eac477.png"},360:function(t,e,s){t.exports=s.p+"assets/img/rules_ng_new_rule.a335563b.png"},596:function(t,e,s){"use strict";s.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"next-generation-rule-engine"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-generation-rule-engine","aria-hidden":"true"}},[this._v("#")]),this._v(" Next-Generation Rule Engine")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(359),alt:"rule engine addon"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When you now refresh your browser, you will see a "),e("code",[this._v("Rules")]),this._v(" menu appearing in the main menu of Paper UI.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(360),alt:"new rule"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"concept"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#concept","aria-hidden":"true"}},[this._v("#")]),this._v(" Concept")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ON item_id state changed IF item_id.state == desired_value THEN item_id2.state = desired_value2 \n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("strong",[t._v("'trigger'")]),t._v(" modules specify the events that trigger a rule execution.")]),t._v(" "),s("li",[s("strong",[t._v("'condition'")]),t._v(" modules act as a filter for rule execution.\nActions of the rule will be executed only if event data satisfies all conditions.\nIn case there are multiple conditions in the 'if' section then all of them must be satisfied.")]),t._v(" "),s("li",[s("strong",[t._v("'action'")]),t._v(" modules perform actual operations in openHAB.\nIf more than one action is specified in a rule they will be executed sequentially.\nThe output of the previous action can be used as an input for the next action.\nAn imaginary action can therefore also just be a conversion to make one action output compatible to another actions input.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Each module is created from a template called "),e("strong",[this._v("Module type")]),this._v('.\nA module type specifies parameters for the template, like e.g. "eventTopic" for the "GenericEventTrigger" or "operator" for the "GenericCompareCondition".')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The automation engine provides some generic module types.\nThose can be extended by so called "),e("strong",[this._v("composite module types")]),this._v(".\nThose use predefined configurations and/or modified module input/output objects.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v('An example is the module type "ItemStateChangeTrigger" which is based on the GenericEventTrigger but specifies in its configuration that it is triggered only by item\'s state change events.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#module-types","aria-hidden":"true"}},[this._v("#")]),this._v(" Module Types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A given "),e("strong",[this._v("Module type")]),this._v(" has the following elements:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("uid - unique id\nlabel - localizable text\ndescription - localizable text\nconfigDescriptions - list of meta data for the configuration properties\ninput variables - list of meta data for the supported input objects\noutput variables - list of meta data for the supported output objects\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("configDescriptions")]),this._v(" has the following metadata defined for each property:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('name\ntype - one of the following "text", "integer", "decimal", "boolean"\nlabel - localizable text\ndescription - localizable text\nrequired - boolean flag indicating if this configuration property can be optional and thus it can be ommited in the rule, by default required is false\ndefaultValue - default value for the configuration property when not specified in the rule\n')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Input property")]),this._v(" has the following metadata:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('name\ntype - fully qualified name of Java class ("java.lang.Integer")\nlabel - localizable text\ndescription - localizable text\ndefaultValue - default value for the configuration property when not specified in the rule\ntags - shows how to be considered a given value. For example, as a Temperature\n')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Output property")]),this._v(" has the following metadata:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('name\ntype - fully qualified name of Java class ("java.lang.Integer")\nlabel - localizable text\ndescription - localizable text\ndefaultValue - default value for the configuration property when not specified in the rule\nreference - which means the property value can be specified as a reference to configuration parameter or input parameter\ntags - shows how a given value should be considered (e.g. as a Temperature)\n')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Supported Types")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The types supported in the "),e("strong",[this._v("input/output")]),this._v(" objects can be any string and the following validation is performed:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("if the input type and the output type are equal as string the connection is valid")]),this._v(" "),e("li",[this._v('if the input type is "*" and the output type is any the connection is valid')]),this._v(" "),e("li",[this._v("if the input type and the output type are strings representing full qualified names which can be loaded and the input type is assignable from output type the connection is valid")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The types in the "),e("strong",[this._v("Configuration")]),this._v(" object are restricted to the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("TEXT - The data type for a UTF8 text value")]),this._v(" "),e("li",[this._v("INTEGER - The data type for a signed integer value in the range of Integer#MIN_VALUE, Integer#MAX_VALUE")]),this._v(" "),e("li",[this._v("DECIMAL - The data type for a signed floating point value (IEEE 754) in the range of Float#MIN_VALUE, Float#MAX_VALUE")]),this._v(" "),e("li",[this._v("BOOLEAN - The data type for a boolean: true or false")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"defining-rules-via-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#defining-rules-via-json","aria-hidden":"true"}},[this._v("#")]),this._v(" Defining Rules via JSON")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("JSON schemas for:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"../../schemas/ModuleTypes_schema.json"}},[this._v("module types")])]),this._v(" "),e("li",[e("a",{attrs:{href:"../../schemas/Templates_schema.json"}},[this._v("rule templates")])]),this._v(" "),e("li",[e("a",{attrs:{href:"../../schemas/Rules_schema.json"}},[this._v("rule instances")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"sample-rules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-rules","aria-hidden":"true"}},[this._v("#")]),this._v(" Sample Rules")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Sample rule instance referencing module types:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{\n        "uid":"sample.rule1",\n        "name":"SampleRule",\n        "tags":[\n            "sample",\n            "rule"\n        ],\n        "description":"Sample Rule definition.",\n        "triggers":[\n            {\n                "id":"SampleTriggerID",\n                "type":"SampleTrigger"\n            }\n        ],\n        "conditions":[\n            {\n                "id":"SampleConditionID",\n                "type":"SampleCondition",\n                "configuration":{\n                    "operator":"=",\n                    "constraint":"dtag"\n                },\n                "inputs":{\n                    "conditionInput":"SampleTriggerID.triggerOutput"\n                }\n            }\n        ],\n        "actions":[\n            {\n                "id":"SampleActionID",\n                "type":"SampleAction",\n                "configuration":{\n                    "message":">>> Hello World!!!"\n                }\n            }\n        ]\n}\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Sample module types:")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"triggers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleTrigger"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleTrigger label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sample Trigger description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"outputs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"triggerOutput"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java.lang.String"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TriggerOutput label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Text from user input or default message."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reference"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"consoleInput"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultValue"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dtag"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CompositeSampleTrigger"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CompositeTrigger label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Composite Trigger description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"outputs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeTriggerOutput"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java.lang.String"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeTriggerOutput label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Text from user input or default message."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reference"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeChildTrigger1.triggerOutput"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"children"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeChildTrigger1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleTrigger"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[t._v("   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"conditions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleCondition"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleCondition label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sample Condition description"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configDescriptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"operator"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEXT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Valid operators are =,>,<,!="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"constraint"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEXT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Right operand which is compared with the input."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"conditionInput"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java.lang.String"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ConditionInput label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Left operand which will be evaluated."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"actions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sample Action description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configDescriptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEXT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Defines the message description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultValue"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Default message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"uid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CompositeSampleAction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CompositeAction label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Composite Action description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configDescriptions"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeMessage"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEXT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom message label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Defines the custom message description."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultValue"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">>> Default Custom Message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputs"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"compositeActionInput"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java.lang.String"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"label"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ActionInput label"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Text that will be printed."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"required"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"children"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  \n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configuration"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n                  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$compositeMessage"')]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SampleAction"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configuration"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n                  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$compositeActionInput"')]),t._v("\n               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"working-with-rules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#working-with-rules","aria-hidden":"true"}},[this._v("#")]),this._v(" Working with Rules")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("using "),s("strong",[t._v("JAVA API")]),t._v(" from package: "),s("strong",[t._v("org.openhab.automation.api")]),t._v(";")]),t._v(" "),s("li",[t._v("using "),s("strong",[t._v("text console commands: smarthome automation")]),t._v(";")]),t._v(" "),s("li",[t._v("using "),s("strong",[t._v("resource bundles")]),t._v(" that provide moduletypes, rules and rule templates stored in "),s("strong",[t._v(".json")]),t._v(" files;")]),t._v(" "),s("li",[t._v("using "),s("strong",[t._v("REST API")]),t._v(" - see the next chapter bellow.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"rest-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-api","aria-hidden":"true"}},[this._v("#")]),this._v(" REST API")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("http://"),s("a",{attrs:{href:"host:port"}},[t._v("host:port")]),t._v("/rest/module-types - lists module types.")]),t._v(" "),s("li",[t._v("http://"),s("a",{attrs:{href:"host:port"}},[t._v("host:port")]),t._v('/rest/templates" - lists rule templates.')]),t._v(" "),s("li",[t._v("http://"),s("a",{attrs:{href:"host:port"}},[t._v("host:port")]),t._v("/rest/rules - lists rule instances.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"rest-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-templates","aria-hidden":"true"}},[this._v("#")]),this._v(" /rest/templates")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("GET /rest/templates - returns all registered rule templates.")]),this._v(" "),e("li",[this._v("GET /rest/templates/{templateUID} - returned response includes only the content of the specified template.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"rest-module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-module-types","aria-hidden":"true"}},[this._v("#")]),this._v(" /rest/module-types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("GET /rest/module-types - returns all registered module types.")]),this._v(" "),e("li",[this._v("optional parameter 'type' with possible values: 'trigger', 'condition' or 'action' - filters the response to include only module definitions of specified type.")]),this._v(" "),e("li",[this._v("optional parameter 'tags' - filters the response to include only module types which have specified tags.")]),this._v(" "),e("li",[this._v("GET /rest/module-types/{moduleTypeUID} - returned response includes only the content of the specified module type.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"rest-rules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rest-rules","aria-hidden":"true"}},[this._v("#")]),this._v(" /rest/rules")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("GET /rest/rules - returns all registered rule instances.")]),t._v(" "),s("li",[t._v("POST /rest/rules - adds new rule instance to the rule registry.")]),t._v(" "),s("li",[t._v("DELETE /rest/rules/{ruleUID} - deletes the specified rule instance.")]),t._v(" "),s("li",[t._v("PUT /rest/rules/{ruleUID} - updates the specified rule instance.")]),t._v(" "),s("li",[t._v("PUT /rest/rules/{ruleUID}/enable - enable/disable specified rule instance.")]),t._v(" "),s("li",[t._v("PUT /rest/rules/{ruleUID}/runnow - executes actions of specified rule instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/config - returns the configuration of the specified rule instance.")]),t._v(" "),s("li",[t._v("PUT /rest/rules/{ruleUID}/config - updates the configuration of the specified rule instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/triggers - returns the triggers defined for the specified rule instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/conditions - returns the conditions defined for the specified rule instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/actions - returns the actions defined for the specified rule instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/{moduleCategory}/{id} - returns module instance with specified id and category {triggers/conditions/actions} of the specified rule.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/{moduleCategory}/{id}/config - returns the configuration of the specified module instance.")]),t._v(" "),s("li",[t._v("GET /rest/rules/{ruleUID}/{moduleCategory}/{id}/config/{param} - returns the value of specified module configuration parameter (media type is text/plain).")]),t._v(" "),s("li",[t._v("PUT /rest/rules/{ruleUID}/{moduleCategory}/{id}/config/{param} - updates the value of specified module configuration parameter (media type is text/plain).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"java-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#java-api","aria-hidden":"true"}},[this._v("#")]),this._v(" JAVA API")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("org.openhab.automation.RuleRegistry")]),this._v(" - provides main functionality to manage rules in the Rule Engine.\nIt can add rules, get existing ones and remove them from the Rule Engine.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("org.openhab.automation.type.ModuleTypeRegistry")]),this._v(" - provides functionality to get module types from the Rule Engine.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("org.openhab.automation.template.TemplateRegistry")]),this._v(" - provides functionality to get templates from the Rule Engine.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"text-console-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#text-console-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Text console commands")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation listModuleTypes [-st] <filter>")]),this._v(" - lists all Module Types. If filter is present, lists only matching Module Types.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation listTemplates [-st] <filter>")]),this._v(" - lists all Templates. If filter is present, lists only matching Templates.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation listRules [-st] <filter>")]),this._v("- lists all Rules. If filter is present, lists only matching Rules.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation removeModuleTypes [-st] <url>")]),this._v(" - Removes the Module Types, loaded from the given url.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation removeTemplates [-st] <url")]),this._v(" - Removes the Templates, loaded from the given url.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation removeRule [-st] <uid>")]),this._v(" - Removes the rule, specified by given UID.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation removeRules [-st] <filter>")]),this._v("- Removes the rules. If filter is present, removes only matching Rules.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation importModuleTypes [-p] <parserType> [-st] <url>")]),this._v(' - Imports Module Types from given url. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation importTemplates [-p] <parserType> [-st] <url>")]),this._v(' - Imports Templates from given url. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation importRules [-p] <parserType> [-st] <url>")]),this._v(' - Imports Rules from given url. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation exportModuleTypes [-p] <parserType> [-st] <file>")]),this._v(' - Exports Module Types in a file. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation exportTemplates [-p] <parserType> [-st] <file>")]),this._v(' - Exports Templates in a file. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation exportRules [-p] <parserType> [-st] <file>")]),this._v(' - Exports Rules in a file. If parser type missing, "json" parser will be set as default.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("automation enableRule [-st] <uid> <enable>")]),this._v(" - Enables the Rule, specified by given UID.\nThe use of the 'enable' argument is optional, and will accept a boolean value.\nIf used, the command will enable (true) or disable (false) the Rule.\nIf it is not used, the command will return the current status of the Rule.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"resource-bundles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resource-bundles","aria-hidden":"true"}},[this._v("#")]),this._v(" Resource bundles")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("ESH-INF\\automation\\moduletypes")]),this._v(" - folder for .json files with module types;")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("ESH-INF\\automation\\rules")]),this._v(" - folder for .json files with rule instances;")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("ESH-INF\\automation\\templates")]),this._v(" - folder for .json files with rule templates.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"rule-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rule-templates","aria-hidden":"true"}},[this._v("#")]),this._v(" Rule Templates")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Sample rule instance referencing rule template:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('  {  \n    "uid": "sample.rulebytemplate",\n    "name": "RuleByTemplate",\n    "templateUID": "SampleRuleTemplate",\n    "tags": [  \n      "rule",\n      "template"\n    ],\n    "configuration": {  \n      "condition_operator": "!=",\n      "condition_constraint": "template"\n    }\n  }\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("strong",[this._v("Sample rule template:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('  {  \n    "uid":"SampleRuleTemplate",\n    "description":"Sample Rule Template",\n    "tags":[  \n      "sample",\n      "rule",\n      "template"\n    ],\n    "configDescriptions":[  \n         {\n          "name":"condition_operator",              \n          "type": "TEXT",\n          "description": "Valid operators are =,>,<,!=",\n          "required": true\n        },\n         {\n          "name":"condition_constraint",              \n          "type": "TEXT",\n          "description": "Right operand which is compared with the input.",\n          "required": true\n        }\n    ],\n    "triggers": [  \n      {  \n        "id": "CompositeSampleTriggerTemplateID",\n        "type": "CompositeSampleTrigger",\n        "label": "Sample Trigger",\n        "description": "This is a sample composite trigger"\n      }\n    ],\n    "conditions": [\n      {\n        "id": "SampleConditionTemplateID",\n        "type": "SampleCondition",\n        "label": "Sample Condition",\n        "description": "This is a sample condition",\n        "configuration": {\n          "operator": "$condition_operator",\n          "constraint": "$condition_constraint"\n        },\n        "inputs": {\n          "conditionInput": "CompositeSampleTriggerTemplateID.compositeTriggerOutput"\n        }\n      }\n    ],\n    "actions": [\n      {  \n        "id": "CompositeActionTemplateID",\n        "type": "CompositeSampleAction",\n        "label": "Sample Action",\n        "description": "This is a sample action",\n        "configuration": {\n          "compositeMessage": "Hello World!!!"\n        },\n        "inputs": {  \n          "compositeActionInput": "CompositeSampleTriggerTemplateID.compositeTriggerOutput"\n        }\n      }\n    ]\n  }\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"system-module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#system-module-types","aria-hidden":"true"}},[this._v("#")]),this._v(" System Module Types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"genericeventtrigger"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#genericeventtrigger","aria-hidden":"true"}},[this._v("#")]),this._v(" GenericEventTrigger")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("GenericEventTrigger has 3 configuration paramters: "),e("code",[this._v("eventTopic")]),this._v(","),e("code",[this._v("eventSource")]),this._v(" and "),e("code",[this._v("eventTypes")]),this._v(" and one output: 'event'.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('  {  \n     "uid":"GenericEventTrigger",\n     "label":"Basic Event Trigger",\n     "description":"Triggers Rules on Events",\n     "configDescriptions":[  \n        {  \n           "name":"eventTopic",\n           "type":"TEXT",\n           "label":"Topic",\n           "description":"This is the topic, the trigger will listen to: >>smarthome/*<<",\n           "required":true,\n           "defaultValue":"smarthome/*"\n        },\n        {  \n           "name":"eventSource",\n           "type":"TEXT",\n           "label":"Source",\n           "description":"This is the source of the event (eg. item name)",\n           "required":true,\n           "defaultValue":""\n        },\n        {  \n           "name":"eventTypes",\n           "type":"TEXT",\n           "label":"Event Type",\n           "description":"the event type, the trigger should listen to. Multiple types can be specified comma-separated",\n           "required":true,\n           "defaultValue":""\n        }\n     ],\n     "outputs":[  \n        {  \n           "name":"event",\n           "type":"org.openhab.core.events.Event",\n           "label":"Event",\n           "description":"The events which was sent.",\n           "reference":"event"\n        }\n     ]\n  }\n')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"genericcomparecondition"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#genericcomparecondition","aria-hidden":"true"}},[this._v("#")]),this._v(" GenericCompareCondition")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This module type is used to compare a value against a configuration property using an operator like "),e("code",[this._v("<, >, =")]),this._v(".\nThe value to be compared can be specified either as an input or as a configuration property.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('{\n  "uid":"GenericCompareCondition",\n  "label":"CompareCondition",\n  "description":"configurable compare condition",\n  "configDescriptions":[\n    {\n      "name":"inputproperty",\n      "label":"Input property",\n      "type":"TEXT",\n      "description":"property of the input to be compared",\n      "required":false\n    },\n    {\n      "name":"right",\n      "type":"TEXT",\n      "label":"compare with",\n      "description":"the value to be compared with the input",\n      "required":true\n    },\n    {\n      "name":"operator",\n      "type":"TEXT",\n      "description":"the compare operator, allowed are <, >, =",\n      "required":true,\n      "defaultValue":"="\n    }\n  ],\n    "inputs": [\n        {\n          "name":"input",\n          "type": "java.lang.Object",\n          "label": "input",\n          "description": "The input which will be compared.",\n          "required":true\n        }\n]\n}\n')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"providing-new-module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#providing-new-module-types","aria-hidden":"true"}},[this._v("#")]),this._v(" Providing new Module Types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The extension bundle should register the service ModuleHandlerFactory ("),e("code",[this._v("org.openhab.automation.handler.ModuleHandlerFactory")]),this._v(")\nand implement the necessary methods for creation of instances of the supported module handlers:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("org.openhab.automation.handler.TriggerHandler")])]),this._v(" "),e("li",[e("code",[this._v("org.openhab.automation.handler.ConditionHandler")])]),this._v(" "),e("li",[e("code",[this._v("org.openhab.automation.handler.ActionHandler")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"composite-module-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#composite-module-types","aria-hidden":"true"}},[this._v("#")]),this._v(" Composite module types")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v('  {  \n     "uid":"ItemStateChangeTrigger",\n     "label":"Item State Trigger",\n     "description":"This triggers a rule if an items state changed",\n     "configDescriptions":[  \n        {  \n           "name":"itemName",\n           "type":"TEXT",\n           "context":"item",\n           "label":"item name",\n           "description":"the name of the item which\'s state change should be observed",\n           "required":true\n        }\n     ],\n     "children":[  \n        {  \n           "id":"itemStateChangeTriggerID",\n           "type":"GenericEventTrigger",\n           "configuration":{  \n              "eventSource":"$itemName",\n              "eventTopic":"smarthome/items/*",\n              "eventTypes":"ItemStateEvent"\n           }\n        }\n     ],\n     "outputs":[  \n        {  \n           "name":"event",\n           "type":"org.openhab.core.events.Event",\n           "description":"the event of the item state change",\n           "label":"event",\n           "reference":"itemStateChangeTriggerID.event"\n        }\n     ]\n  }\n')])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This example demonstrates a new module type "),s("em",[t._v("ItemStateChangeTrigger")]),t._v(" which wraps the system module type "),s("em",[t._v("GenericEventTrigger")]),t._v(".\nIt defines the new configuration property "),s("code",[t._v("itemName")]),t._v(" which is used as the "),s("code",[t._v("eventSource")]),t._v(" property of the "),s("em",[t._v("GenericEventTrigger")]),t._v(".\nThe other config parameters "),s("code",[t._v("eventTopic")]),t._v(" and "),s("code",[t._v("eventTypes")]),t._v(" are staticly defined.\nThe composite module type can also have inputs and outputs and can use a reference to map them to inputs and outputs of the nested system module type(s).")])}],a=s(0),r=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/badges/stability-badges",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://badges.github.io/stability-badges/dist/experimental.svg",alt:"experimental"}}),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Since openHAB 2.4 another Rule Engine has been added. It works fundamentally different than what you find with our current "),s("a",{attrs:{href:"https://www.openhab.org/docs/configuration/rules-dsl.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rules"),s("OutboundLink")],1),t._v(". It allows Rules to be edited in a graphical fashion and to interact with "),s("a",{attrs:{href:"https://www.openhab.org/docs/configuration/jsr223.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSR223 Scripts (Javascript, Jypthon, etc)"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("Install the rule engine from Add-ons  Misc  Rule Engine (Experimental).")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("In general this rule engine aims to support rules defined with syntax similar to:")]),t._v(" "),t._m(6),s("p",[t._v("A rule consists of basic information like name, tags and a description. The main building blocks of rules are modules however, and each rule consists of one or more instances of each of the following modules:")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._m(33),t._m(34),t._m(35),t._v(" "),s("p",[t._v("There are several ways to add new rules:")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),s("p",[t._v("Bundles that provide rules in json format should have the following folder structure:")]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),s("p",[t._v("Rule templates can simplify the definition of rules with similar behavior by providing additional configuration properties. Then rule instance definition only refers the rule template and provides the values of the configuration properties.\nThe rule template is used only once when the rule is imported in the Rule Engine.\nAfter that the reference from the rule instance to the rule template is removed and a given rule may exist even if the rule template is removed or modified.\nThis will not have any impact on the already imported rules.")]),t._v(" "),t._m(69),t._v(" "),t._m(70),t._m(71),t._v(" "),t._m(72),s("p",[t._v('The above example uses two rule configuration properties:\n"condition_operator" and "condition_constraint" that update the configuration of the "SampleCondition".')]),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),s("p",[t._v("The rule engine is pluggable - any OSGi bundle can provide implementation for triggers, actions and condition module types and their corresponding metatype definition in JSON format.")]),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),s("p",[t._v("Another way to extend the supported module types is by defining composite module types as an extension of the system module types.\nThe composite module type wraps one or more instances of a system module type and defines new configuration parameters, inputs and outputs.")]),t._v(" "),t._m(84),t._v(" "),t._m(85),t._v(" "),s("DocPreviousVersions"),t._v(" "),s("EditPageLink")],1)},n,!1,null,null,null);e.default=r.exports}}]);