(window.webpackJsonp=window.webpackJsonp||[]).push([[322],{926:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"openpaths-binding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openpaths-binding","aria-hidden":"true"}},[t._v("#")]),t._v(" OpenPaths Binding "),a("Badge",{attrs:{type:"warn",text:"v1"}})],1),t._v(" "),a("p",[a("a",{attrs:{href:"https://openpaths.cc/%E2%80%8E",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenPaths"),a("OutboundLink")],1),t._v(" is an app you can install on your Android or iOS device which will periodically upload your location to the OpenPaths servers. Using the OpenPaths binding, openHAB will periodically request your latest location data from the OpenPaths servers and calculate your presence relative to a specified location (usually your home).")]),t._v(" "),t._m(0),t._v(" "),a("p",[t._v("First you will need to install the OpenPaths app on your mobile device. You will then need to sign up to the OpenPaths service. At this point you should be issued with an ACCESS_KEY and SECRET_KEY which you will need to configure the OpenPaths binding. You will also need to link your app to your new OpenPaths account.")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("You need to let the binding know exactly where 'home' is and what size the "),a("a",{attrs:{href:"http://en.wikipedia.org/wiki/Geo-fence",target:"_blank",rel:"noopener noreferrer"}},[t._v("geofence"),a("OutboundLink")],1),t._v(" is. You can also optionally specify the refresh interval which determines how often openHAB will poll the OpenPaths servers.  This information can be entered in the file "),a("code",[t._v("services/openpaths.cfg")]),t._v(".")]),t._v(" "),a("p",[t._v("Beside a location named 'home' (mandatory) you may specify any number of additional locations, each of it optionally having its own geofence.")]),t._v(" "),a("p",[t._v("Finally, you need to add entries for each OpenPaths account you wish to track.  You can track as many different OpenPaths accounts as you like, you will just need a set of entries in your openhab.cfg for each account, containing the ACCESS_KEY and SECRET_KEY from each account.")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("You can also bind the distance (direct view line) of a tracked phone to a Number item. The coordinates as delivered from OpenPaths API are available as String 'latitude, longitude' and in addition as separate Numbers.")]),t._v(" "),t._m(5),a("DocPreviousVersions"),t._v(" "),a("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"binding-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binding-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Binding Configuration")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Property")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("home.lat")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("Latitude of home in decimal degrees")])]),t._v(" "),a("tr",[a("td",[t._v("home.long")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("Longitude of home in decimal degrees")])]),t._v(" "),a("tr",[a("td",[t._v("home.geofence")]),t._v(" "),a("td",[t._v("Value of "),a("code",[t._v("geofence")])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("No")]),t._v(" "),a("td",[t._v("Size of the geofence around home")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("<location>")]),t._v(".lat")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("Latitude of "),a("code",[t._v("<location>")]),t._v(" in decimal degrees. You may define any number of additional locations.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("<location>")]),t._v(".long")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("Longitude of "),a("code",[t._v("<location>")]),t._v(" in decimal degrees")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("<location>")]),t._v(".geofence")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",[t._v("Geofence around "),a("code",[t._v("<location>")]),t._v(" in decimal degrees")])]),t._v(" "),a("tr",[a("td",[t._v("geofence")]),t._v(" "),a("td",[t._v("100")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("No")]),t._v(" "),a("td",[t._v("Distance in metres a user must be from 'home' to be considered inside the geofence")])]),t._v(" "),a("tr",[a("td",[t._v("refresh")]),t._v(" "),a("td",[t._v("300000")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("No")]),t._v(" "),a("td",[t._v("Interval in milliseconds to poll for user location (defaults to 5mins)")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("<user>")]),t._v(".accesskey")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("OpenPaths access key for "),a("code",[t._v("<user>")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("<user>")]),t._v(".secretkey")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("OpenPaths secret key for "),a("code",[t._v("<user>")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"item-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#item-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Item Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To track the location/presence of a mobile device, all you need to do is add a Switch item and specify the name you entered in your binding configuration file (for "),e("code",[this._v("<user>")]),this._v(") for the OpenPaths account you wish to track.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Switch")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1PresenceHome")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User 1 @ Home"')]),t._v("                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:home"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Number")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1HomeDistance")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User 1 away from home: [%.2f km]"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:home:distance"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Switch")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1PresenceWork")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User 1 @ work"')]),t._v("                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:work"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Number")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1WorkDistance")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User 1 away from work: [%.2f km]"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:work:distance"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("String")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1Phone_currentLoc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User1 current location: [%s]"')]),t._v("     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:currentLocation"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Number")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1Phone_currentLat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User1 latitude: [%.4f °]"')]),t._v("         "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:currentLatitude"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Number")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User1Phone_currentLon")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"User1 longitude: [%.4f °]"')]),t._v("        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" openpaths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user1:currentLongitude"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);e.default=n.exports}}]);