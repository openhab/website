(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{619:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("The FreeSWITCH Binding connects to a FreeSWITCH instance and can report on current active calls as well as show unread voicemails and if a MWI is on.")]),t._v(" "),a("p",[t._v("You can also send any command to FreeSWITCH, see "),a("a",{attrs:{href:"http://wiki.freeswitch.org/wiki/Mod_commands",target:"_blank",rel:"noopener noreferrer"}},[t._v("Freeswitch Commands"),a("OutboundLink")],1),t._v(" for more info.")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("Make sure you have the FreeSWITCH ESL module listing on a public port, your event_socket.conf.xml in FreeSWITCH should look something like:")]),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("This is a sample item entry for non filtered calls, any inbound call will be considered active, this is sufficient for most uses:")]),t._v(" "),t._m(7),a("p",[t._v("This item is for a filtered call, only calls with an inbound direction and a destination number of 5555551212 will be matched:")]),t._v(" "),t._m(8),a("p",[t._v("For messages and message waiting indicator (MWI) the voice mail account is specified:")]),t._v(" "),t._m(9),a("p",[t._v("To send API commands to FreeSWITCH add a simple api item:")]),t._v(" "),t._m(10),a("p",[t._v('There are three supported protocol types, "active", "message_waiting" and "api"')]),t._v(" "),a("ul",[a("li",[t._v("Active types:\n"),a("ul",[a("li",[t._v("Filtered\n"),a("ul",[a("li",[t._v("calls can be filtered on freeswitch event headers, multiple headers can be used, all must match.")]),t._v(" "),a("li",[t._v('filters format is "Key:Value,Key:Value,...."')]),t._v(" "),t._m(11),t._v(" "),a("li",[t._v("see "),a("a",{attrs:{href:"http://wiki.freeswitch.org/wiki/Event_List",target:"_blank",rel:"noopener noreferrer"}},[t._v("Freesiwtch Events"),a("OutboundLink")],1),t._v(" for more info on event headers")])])]),t._v(" "),t._m(12),t._v(" "),t._m(13)])]),t._v(" "),t._m(14),t._v(" "),a("li",[t._v("API types\n"),a("ul",[a("li",[t._v("String , sending a string to this will send a command to FS, the result will be sent back to this item as a comma seperated list")]),t._v(" "),t._m(15),t._v(" "),a("li",[t._v("see "),a("a",{attrs:{href:"http://wiki.freeswitch.org/wiki/Mod_commands",target:"_blank",rel:"noopener noreferrer"}},[t._v("Freeswitch Commands"),a("OutboundLink")],1),t._v(" for more info.")])])])]),t._v(" "),t._m(16),t._v(" "),a("DocPreviousVersions"),t._v(" "),a("EditPageLink")],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"freeswitch-binding"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#freeswitch-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" FreeSWITCH Binding")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("event_socket.conf"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("description")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Socket Client"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("settings")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("nat-map"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("listen-ip"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0.0.0.0"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("listen-port"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("8021"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("param")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("password"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ClueCon"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v('\x3c!--<param name="apply-inbound-acl" value="lan"/>--\x3e')]),t._v("\n  "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("settings")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"binding-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#binding-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Binding Configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This binding can be configured in the file "),s("code",[this._v("services/freeswitch.cfg")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("table",[a("thead",[a("tr",[a("th",[t._v("Property")]),t._v(" "),a("th",[t._v("Default")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Required")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("host")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("host name or IP address of FreeSWITCH host")])]),t._v(" "),a("tr",[a("td",[t._v("port")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("port number as specified in "),a("code",[t._v("listen-port")]),t._v(" from "),a("code",[t._v("event_socket.conf.xml")]),t._v(" described earlier")])]),t._v(" "),a("tr",[a("td",[t._v("password")]),t._v(" "),a("td"),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),t._v(" "),a("td",[t._v("password  as specified in "),a("code",[t._v("password")]),t._v(" from "),a("code",[t._v("event_socket.conf.xml")]),t._v(" described earlier")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"item-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#item-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Item Configuration")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Incoming_Call")]),t._v("  "),a("span",{attrs:{class:"token string"}},[t._v('"Home Phone"')]),t._v("                   "),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nCall Active_Call      "),a("span",{attrs:{class:"token string"}},[t._v('"Connected [to %1$s from %2$s]"')]),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Active_Call_ID")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Caller ID [%s]"')]),t._v("               "),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Incoming_Call")]),t._v("  "),a("span",{attrs:{class:"token string"}},[t._v('"Home Phone"')]),t._v("                   "),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active:Call-Direction:inbound,Caller-Destination-Number:5555551212"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nCall Active_Call      "),a("span",{attrs:{class:"token string"}},[t._v('"Connected [to %1$s from %2$s]"')]),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active:Call-Direction:inbound,Caller-Destination-Number:5555551212"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Active_Call_ID")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Caller ID [%s]"')]),t._v("               "),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"active:Call-Direction:inbound,Caller-Destination-Number:5555551212"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Voice_Messages")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Unread Messages [%d]"')]),a("span",{attrs:{class:"token tag"}},[t._v(" (Phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"message_waiting:1000@pbx.mydomain.com"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("String")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("FS_API")]),t._v("  "),a("span",{attrs:{class:"token string"}},[t._v('"FS API [%s]"')]),a("span",{attrs:{class:"token tag"}},[t._v(" (phone)")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("freeswitch"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"api"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Ex: "),s("code",[this._v('Switch Incoming_Call "Home Phone" (Phone) {freeswitch="active:Call-Direction:inbound,Caller-Destination-Number:5555551212"}')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Non Filtered\n"),s("ul",[s("li",[this._v("if no filter is given any inbound call will be used")]),this._v(" "),s("li",[this._v("for multiple active calls the most recent active call's callerid will be displayed\nEx: "),s("code",[this._v('Incoming_Call "Home Phone" (Phone) {freeswitch="active}')])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Item Types\n"),s("ul",[s("li",[this._v("Switch will be on for an active call, off if no active calls")]),this._v(" "),s("li",[this._v("Call, this shows the destination and origination numbers")]),this._v(" "),s("li",[this._v("Text, this shows the Caller-ID fields (name : number) if sent by caller (regional specific I would imagine)")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("Message_Waiting types:\n"),s("ul",[s("li",[this._v("Number, this shows the number of unread voice mails")]),this._v(" "),s("li",[this._v("Switch, on if MWI (message indicator) is yes.")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("API types are really meant to be used in rules, an example might be:\n"),s("ul",[s("li",[s("code",[this._v('sendCommand(FS_API,"conference test-conf dial sofia/gateway/myvoipprovider/5555551212 5551212 5551212")')])]),this._v(" "),s("li",[this._v('This would tell freeswitch to dial 5555551212 into a conference named "test-conf"')]),this._v(" "),s("li",[this._v("the conference info would be returned as a update to the item.")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("message_waiting")]),this._v(" takes an extra argument which is the mailbox we want to check against.  This is usually the extention@domain")])}],!1,null,null,null);e.options.__file="readme.md";s.default=e.exports}}]);