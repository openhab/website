(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{775:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("AddonLogo"),t._v(" "),a("p",[t._v("This binding integrates the IKEA TRÅDFRI gateway and devices connected to it (such as dimmable LED bulbs).")]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v('Beside the gateway (thing type "gateway"), the binding currently supports colored bulbs, dimmable warm white bulbs as well as white spectrum bulbs.\nThe binding also supports read-only data from remote controls and motion sensors (e.g. the battery status).\nThe TRÅDFRI controller and sensor devices currently cannot be observed right away.\nWe assume that they are communicating directly with the bulbs or lamps without routing their commands through the gateway.\nThis makes it nearly impossible to trigger events for pressed buttons.\nWe only can access some static data like the present status or battery level.')]),t._v(" "),a("p",[t._v("The thing type ids are defined according to the lighting devices defined for ZigBee LightLink ("),a("a",{attrs:{href:"https://www.nxp.com/documents/user_manual/JN-UG-3091.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("see page 24, table 2"),a("OutboundLink")],1),t._v(".\nThese are:")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("The following matrix lists the capabilities (channels) for each of the supported lighting device types:")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("The devices require only a single (integer) parameter, which is their instance id. Unfortunately, this is not displayed anywhere in the IKEA app, but it seems that they are sequentially numbered starting with 65537 for the first device. If in doubt, use the auto-discovered things to find out the correct instance ids.")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("Refer to the matrix above.")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("demo.things:")]),t._v(" "),t._m(13),a("p",[t._v("demo.items:")]),t._v(" "),t._m(14),a("p",[t._v("demo.sitemap:")]),t._v(" "),t._m(15),a("DocPreviousVersions"),t._v(" "),a("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"tradfri-binding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tradfri-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" TRÅDFRI Binding")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"supported-things"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supported-things","aria-hidden":"true"}},[this._v("#")]),this._v(" Supported Things")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Device type")]),t._v(" "),a("th",[t._v("ZigBee Device ID")]),t._v(" "),a("th",[t._v("Thing type")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Dimmable Light")]),t._v(" "),a("td",[t._v("0x0100")]),t._v(" "),a("td",[t._v("0100")])]),t._v(" "),a("tr",[a("td",[t._v("Colour Temperature Light")]),t._v(" "),a("td",[t._v("0x0220")]),t._v(" "),a("td",[t._v("0220")])]),t._v(" "),a("tr",[a("td",[t._v("Extended Colour Light")]),t._v(" "),a("td",[t._v("0x0210")]),t._v(" "),a("td",[t._v("0210")])]),t._v(" "),a("tr",[a("td",[t._v("Occupancy Sensor")]),t._v(" "),a("td",[t._v("0x0107")]),t._v(" "),a("td",[t._v("0107")])]),t._v(" "),a("tr",[a("td",[t._v("Non-Colour Controller")]),t._v(" "),a("td",[t._v("0x0820")]),t._v(" "),a("td",[t._v("0820")])]),t._v(" "),a("tr",[a("td",[t._v("Non-Colour Scene Controller")]),t._v(" "),a("td",[t._v("0x0830")]),t._v(" "),a("td",[t._v("0830")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Thing type")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Brightness")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Color")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Color Temperature")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Battery Level")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Battery Low")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("0100")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",[t._v("0220")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",[t._v("0210")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",[t._v("0107")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")])]),t._v(" "),a("tr",[a("td",[t._v("0820")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")])]),t._v(" "),a("tr",[a("td",[t._v("0830")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("X")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"thing-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thing-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Thing Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For first pairing - the gateway requires a "),e("code",[this._v("host")]),this._v(" parameter for the hostname or IP address and a "),e("code",[this._v("code")]),this._v(", which is the security code that is printed on the bottom of the gateway.\nOptionally, a "),e("code",[this._v("port")]),this._v(" can be configured, but any standard gateway uses the default port 5684.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("The "),a("code",[t._v("code")]),t._v(" is used during the initialization for retrieving unique identity and pre-shared key from the gateway (fw version 1.2.0042 onwards) and then it's discarded from the configuration. The newly created authentication data is stored in advanced parameters "),a("code",[t._v("identity")]),t._v(" and "),a("code",[t._v("preSharedKey")]),t._v(".\nOn each initialization if the code is present in the thing configuration - the "),a("code",[t._v("identity")]),t._v(" and "),a("code",[t._v("preSharedKey")]),t._v(" are recreated and the "),a("code",[t._v("code")]),t._v(" is again discarded.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"channels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#channels","aria-hidden":"true"}},[this._v("#")]),this._v(" Channels")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The dimmable bulbs support the "),e("code",[this._v("brightness")]),this._v(" channel.\nThe white spectrum bulbs additionally also support the "),e("code",[this._v("color_temperature")]),this._v(" channel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Full color bulbs support the "),e("code",[this._v("color_temperature")]),this._v(" and "),e("code",[this._v("color")]),this._v(" channels.\nBrightness can be changed with the "),e("code",[this._v("color")]),this._v(" channel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The remote control and the motion sensor supports the "),e("code",[this._v("battery_level")]),this._v(" and "),e("code",[this._v("battery_low")]),this._v(" channels for reading the battery status.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Channel Type ID")]),t._v(" "),a("th",[t._v("Item Type")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("brightness")]),t._v(" "),a("td",[t._v("Dimmer")]),t._v(" "),a("td",[t._v("The brightness of the bulb in percent")])]),t._v(" "),a("tr",[a("td",[t._v("color_temperature")]),t._v(" "),a("td",[t._v("Dimmer")]),t._v(" "),a("td",[t._v("color temperature from 0% = cold to 100% = warm")])]),t._v(" "),a("tr",[a("td",[t._v("color")]),t._v(" "),a("td",[t._v("Color")]),t._v(" "),a("td",[t._v("full color")])]),t._v(" "),a("tr",[a("td",[t._v("battery_level")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("battery level (in %)")])]),t._v(" "),a("tr",[a("td",[t._v("battery_low")]),t._v(" "),a("td",[t._v("Switch")]),t._v(" "),a("td",[t._v("battery low warning (<=10% = ON, >10% = OFF)")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"full-example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-example","aria-hidden":"true"}},[this._v("#")]),this._v(" Full Example")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("Bridge")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("tradfri"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("gateway"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mygateway")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" host"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"192.168.0.177"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" code"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"EHPW5rIJKyXFgjH3"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token number"}},[t._v("0100")]),t._v(" myDimmableBulb "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("65537")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    \n    "),a("span",{attrs:{class:"token number"}},[t._v("0220")]),t._v(" myColorTempBulb "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("65538")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token number"}},[t._v("0210")]),t._v(" myColorBulb "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("65539")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{attrs:{class:"token number"}},[t._v("0830")]),t._v(" myRemoteControl "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("65545")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("Dimmer")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Light1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0100:mygateway:myDimmableBulb:brightness"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Dimmer")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Light2_Brightness")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0220:mygateway:myColorTempBulb:brightness"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Dimmer")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Light2_ColorTemperature")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0220:mygateway:myColorTempBulb:color_temperature"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Color")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("ColorLight")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0210:mygateway:myColorBulb:color"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("RemoteControlBatteryLevel")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0830:mygateway:myRemoteControl:battery_level"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("RemoteControlBatteryLow")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"tradfri:0830:mygateway:myRemoteControl:battery_low"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("sitemap")]),t._v(" demo "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Main Menu"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("Frame")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Slider")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("Light1 "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Light1 Brightness [%.1f %%]"')]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Slider")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("Light2_Brightness "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Light2 Brightness [%.1f %%]"')]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Slider")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("Light2_ColorTemperature "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Light2 Color Temperature [%.1f %%]"')]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Colorpicker")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("ColorLight "),a("span",{attrs:{class:"token class-name"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Color"')]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("RemoteControlBatteryLevel "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Battery level [%d %%]"')]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("RemoteControlBatteryLow "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Battery low warning"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="readme.md";e.default=n.exports}}]);